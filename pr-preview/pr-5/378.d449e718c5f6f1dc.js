"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[378],{6378:(I,f,o)=>{o.r(f),o.d(f,{RegisterComponent:()=>N});var r=o(7788),p=o(6610),s=o(7222),v=o(7533),w=o(643),u=o(2221),m=o(6375),d=o(4587),c=o(6182),F=o(5981),C=o(4526),P=o(6347),R=o(7212),E=o(5860);class y extends E.b{constructor(n){super(),this.email=n.email,this.password=n.password,this.firstName=n.firstName,this.lastName=n.lastName}}var h=o(4509),S=o(922),$=o(2224),b=o(2118),j=o(2019);class G{static passwordMatcher(n){const e=n.get("password"),i=n.get("confirmPassword");return e.pristine||i.pristine||e.value===i.value?null:{passwordMatch:!0}}}class g{isErrorState(n){return(n?.parent?.invalid&&n.dirty)??!1}}let M=(()=>{class a{constructor(){this.passwordControl=new s.MJ,this.formErrorService=(0,r.WQX)(h._),this.confirmValidParentMatcher=new g,this.hidePassword=(0,r.vPA)(!0)}clickHidePassword(e){this.hidePassword.set(!this.hidePassword()),e.stopPropagation()}static#r=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=r.VBU({type:a,selectors:[["camp-input-password"]],inputs:{passwordControl:"passwordControl"},standalone:!0,features:[r.aNF],decls:10,vars:7,consts:[["subscriptSizing","dynamic","appearance","outline",1,"login__input-field"],["matInput","",3,"formControl","type","errorStateMatcher"],["mat-icon-button","","matSuffix","","type","button",3,"click"]],template:function(i,t){1&i&&(r.j41(0,"mat-form-field",0)(1,"mat-label"),r.EFF(2,"Password"),r.k0s(),r.nrm(3,"input",1),r.j41(4,"button",2),r.bIt("click",function(k){return t.clickHidePassword(k)}),r.j41(5,"mat-icon"),r.EFF(6),r.k0s()(),r.j41(7,"mat-error")(8,"span"),r.EFF(9),r.k0s()()()),2&i&&(r.R7$(3),r.Y8G("formControl",t.passwordControl)("type",t.hidePassword()?"password":"text")("errorStateMatcher",t.confirmValidParentMatcher),r.R7$(),r.BMQ("aria-label","Hide password")("aria-pressed",t.hidePassword()),r.R7$(2),r.JRh(t.hidePassword()?"visibility_off":"visibility"),r.R7$(3),r.JRh(t.formErrorService.getErrors(t.passwordControl)))},dependencies:[p.MD,d.fS,d.fg,m.rl,m.nJ,m.TL,m.yw,s.X1,s.me,s.BC,s.l_,c.m_,c.An],changeDetection:0})}return a})(),N=(()=>{class a{constructor(){this.destroyRef=(0,r.WQX)(r.abz),this.changeDetector=(0,r.WQX)(r.gRc),this.fb=(0,r.WQX)(s.Qk),this.authService=(0,r.WQX)(v.u),this.router=(0,r.WQX)(S.Ix),this.formErrorService=(0,r.WQX)(h._),this.confirmValidParentMatcher=new g,this.registerForm=this.fb.group({email:["",[s.k0.required,s.k0.email]],passwordGroup:this.fb.group({password:["",[s.k0.required,s.k0.minLength(8)]],confirmPassword:["",s.k0.required]},{validators:G.passwordMatcher}),firstName:["",[s.k0.required,s.k0.maxLength(30)]],lastName:["",[s.k0.required,s.k0.maxLength(30)]]}),this.hidePassword=(0,r.vPA)(!0),this.isLoading$=new F.t(!1)}onSubmit(){if(this.registerForm.invalid)return;this.isLoading$.next(!0);const e=this.registerForm.getRawValue(),t=new y({email:e.email,password:e.passwordGroup.password,firstName:e.firstName,lastName:e.lastName});this.authService.register(t).pipe((0,C.W)(l=>{throw l instanceof b.c&&(this.formErrorService.showFormValidationErrors(this.registerForm,l),this.changeDetector.markForCheck()),Error}),(0,P.j)(()=>{this.isLoading$.next(!1)}),(0,R.pQ)(this.destroyRef)).subscribe(l=>this.router.navigate([$.n.home]))}clickHidePassword(e){this.hidePassword.set(!this.hidePassword()),e.stopPropagation()}static#r=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=r.VBU({type:a,selectors:[["camp-register"]],standalone:!0,features:[r.aNF],decls:30,vars:13,consts:[[1,"register__form",3,"ngSubmit","formGroup"],["subscriptSizing","dynamic","appearance","outline",1,"register__input-field"],["matInput","","type","email",3,"formControl"],["matInput","","type","text",3,"formControl"],[1,"password-group",3,"formGroup"],[3,"passwordControl"],[1,"register__actions"],["mat-stroked-button","","type","submit",3,"disabled"]],template:function(i,t){1&i&&(r.j41(0,"camp-auth")(1,"form",0),r.bIt("ngSubmit",function(){return t.onSubmit()}),r.j41(2,"mat-form-field",1)(3,"mat-label"),r.EFF(4,"Email"),r.k0s(),r.nrm(5,"input",2),r.j41(6,"mat-error")(7,"span"),r.EFF(8),r.k0s()()(),r.j41(9,"mat-form-field",1)(10,"mat-label"),r.EFF(11,"First name"),r.k0s(),r.nrm(12,"input",3),r.j41(13,"mat-error")(14,"span"),r.EFF(15),r.k0s()()(),r.j41(16,"mat-form-field",1)(17,"mat-label"),r.EFF(18,"Last name"),r.k0s(),r.nrm(19,"input",3),r.j41(20,"mat-error")(21,"span"),r.EFF(22),r.k0s()()(),r.j41(23,"div",4),r.nrm(24,"camp-input-password",5)(25,"camp-input-password",5),r.k0s(),r.j41(26,"div",6)(27,"button",7),r.nI1(28,"async"),r.EFF(29,"Register"),r.k0s()()()()),2&i&&(r.R7$(),r.Y8G("formGroup",t.registerForm),r.R7$(4),r.Y8G("formControl",t.registerForm.controls.email),r.R7$(3),r.JRh(t.formErrorService.getFieldError(t.registerForm,"email")),r.R7$(4),r.Y8G("formControl",t.registerForm.controls.firstName),r.R7$(3),r.JRh(t.formErrorService.getFieldError(t.registerForm,"firstName")),r.R7$(4),r.Y8G("formControl",t.registerForm.controls.lastName),r.R7$(3),r.JRh(t.formErrorService.getFieldError(t.registerForm,"lastName")),r.R7$(),r.Y8G("formGroup",t.registerForm.controls.passwordGroup),r.R7$(),r.Y8G("passwordControl",t.registerForm.controls.passwordGroup.controls.password),r.R7$(),r.Y8G("passwordControl",t.registerForm.controls.passwordGroup.controls.confirmPassword),r.R7$(2),r.Y8G("disabled",t.registerForm.invalid||r.bMT(28,11,t.isLoading$)))},dependencies:[p.MD,p.Jj,s.X1,s.qT,s.me,s.BC,s.cb,s.l_,s.j4,w.Hu,u.Hl,u.$z,m.RG,m.rl,m.nJ,m.TL,d.fS,d.fg,c.m_,j.i,M],styles:[".register__input-field[_ngcontent-%COMP%]{width:100%}.register__form[_ngcontent-%COMP%]{--input-gap: var(--space-3);display:flex;flex-direction:column;gap:var(--input-gap)}.password-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--input-gap)}.register__content[_ngcontent-%COMP%]:last-child{padding:0}.register__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"],changeDetection:0})}return a})()}}]);