"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[962],{6962:(W,m,t)=>{t.r(m),t.d(m,{LoginComponent:()=>L});var o=t(7788),d=t(6610),i=t(7222),g=t(5860);class c extends g.b{constructor(u){super(),this.email=u.email,this.password=u.password}}var p=t(643),l=t(2221),s=t(6375),f=t(4587),h=t(6182),v=t(5981),F=t(4526),y=t(6347),E=t(7212),S=t(6921),j=t(922),C=t(2224),P=t(4509),R=t(2118),b=t(2019);let L=(()=>{class e{constructor(){this.destroyRef=(0,o.WQX)(o.abz),this.formBuilder=(0,o.WQX)(i.ok),this.userService=(0,o.WQX)(S.D),this.changeDetector=(0,o.WQX)(o.gRc),this.router=(0,o.WQX)(j.Ix),this.formErrorService=(0,o.WQX)(P._),this.loginForm=this.formBuilder.group({email:["",[i.k0.required,i.k0.email]],password:["",[i.k0.required,i.k0.minLength(8)]]}),this.hidePassword=(0,o.vPA)(!0),this.isLoading$=new v.t(!1)}onSubmit(){if(this.loginForm.invalid)return;this.isLoading$.next(!0);const a=new c({...this.loginForm.value});this.userService.login(a).pipe((0,E.pQ)(this.destroyRef),(0,F.W)(r=>{throw r instanceof R.h&&(this.formErrorService.showFormValidationErrors(this.loginForm,r),this.changeDetector.markForCheck()),Error}),(0,y.j)(()=>{this.isLoading$.next(!1)})).subscribe(r=>this.router.navigate([C.n.home]))}clickHidePassword(a){this.hidePassword.set(!this.hidePassword()),a.stopPropagation()}static#o=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=o.VBU({type:e,selectors:[["camp-login"]],standalone:!0,features:[o.aNF],decls:23,vars:10,consts:[[1,"login__form",3,"ngSubmit","formGroup"],["subscriptSizing","dynamic","appearance","outline",1,"login__input-field"],["matInput","","formControlName","email","type","email"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"login__actions"],["mat-stroked-button","","type","submit",3,"disabled"]],template:function(r,n){1&r&&(o.j41(0,"camp-auth")(1,"form",0),o.bIt("ngSubmit",function(){return n.onSubmit()}),o.j41(2,"mat-form-field",1)(3,"mat-label"),o.EFF(4,"Email"),o.k0s(),o.nrm(5,"input",2),o.j41(6,"mat-error")(7,"span"),o.EFF(8),o.k0s()()(),o.j41(9,"mat-form-field",1)(10,"mat-label"),o.EFF(11,"Password"),o.k0s(),o.nrm(12,"input",3),o.j41(13,"button",4),o.bIt("click",function(Q){return n.clickHidePassword(Q)}),o.j41(14,"mat-icon"),o.EFF(15),o.k0s()(),o.j41(16,"mat-error")(17,"span"),o.EFF(18),o.k0s()()(),o.j41(19,"div",5)(20,"button",6),o.nI1(21,"async"),o.EFF(22,"Login"),o.k0s()()()()),2&r&&(o.R7$(),o.Y8G("formGroup",n.loginForm),o.R7$(7),o.JRh(n.formErrorService.getFieldError(n.loginForm,"email")),o.R7$(4),o.Y8G("type",n.hidePassword()?"password":"text"),o.R7$(),o.BMQ("aria-label","Hide password")("aria-pressed",n.hidePassword()),o.R7$(2),o.JRh(n.hidePassword()?"visibility_off":"visibility"),o.R7$(3),o.JRh(n.formErrorService.getFieldError(n.loginForm,"password")),o.R7$(2),o.Y8G("disabled",n.loginForm.invalid||o.bMT(21,8,n.isLoading$)))},dependencies:[d.MD,d.Jj,i.X1,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,p.Hu,l.Hl,l.$z,l.iY,s.RG,s.rl,s.nJ,s.TL,s.yw,f.fS,f.fg,h.m_,h.An,b.i],styles:[".login__input-field[_ngcontent-%COMP%]{width:100%}.login__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-3)}.login__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"],changeDetection:0})}return e})()}}]);