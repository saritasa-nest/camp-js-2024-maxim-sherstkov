"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[962],{6962:(Q,l,t)=>{t.r(l),t.d(l,{LoginComponent:()=>$});var o=t(7788),m=t(6610),n=t(7222),f=t(5860);class c extends f.b{constructor(g){super(),this.email=g.email,this.password=g.password}}var u=t(643),d=t(2221),e=t(6375),h=t(4587),v=t(6182),p=t(5981),F=t(4526),C=t(6347),S=t(7212),y=t(6921),L=t(922),E=t(2224),j=t(4509),R=t(2118),P=t(2019);let $=(()=>{class r{constructor(){this.destroyRef=(0,o.WQX)(o.abz),this.fb=(0,o.WQX)(n.Qk),this.userService=(0,o.WQX)(y.D),this.changeDetector=(0,o.WQX)(o.gRc),this.router=(0,o.WQX)(L.Ix),this.formErrorService=(0,o.WQX)(j._),this.loginForm=this.fb.group({email:["",[n.k0.required,n.k0.email]],password:["",[n.k0.required,n.k0.minLength(8)]]}),this.hidePassword=(0,o.vPA)(!0),this.isLoading$=new p.t(!1)}onSubmit(){if(this.loginForm.invalid)return;this.isLoading$.next(!0);const a=new c(this.loginForm.getRawValue());this.userService.login(a).pipe((0,F.W)(i=>{throw i instanceof R.h&&(this.formErrorService.showFormValidationErrors(this.loginForm,i),this.changeDetector.markForCheck()),Error}),(0,C.j)(()=>{this.isLoading$.next(!1)}),(0,S.pQ)(this.destroyRef)).subscribe(i=>this.router.navigate([E.n.home]))}clickHidePassword(a){this.hidePassword.set(!this.hidePassword()),a.stopPropagation()}static#o=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=o.VBU({type:r,selectors:[["camp-login"]],standalone:!0,features:[o.aNF],decls:13,vars:6,consts:[[1,"login__form",3,"ngSubmit","formGroup"],["subscriptSizing","dynamic","appearance","outline",1,"login__input-field"],["matInput","","type","email",3,"formControl"],[1,"login__actions"],["mat-stroked-button","","type","submit",3,"disabled"]],template:function(i,s){1&i&&(o.j41(0,"camp-auth")(1,"form",0),o.bIt("ngSubmit",function(){return s.onSubmit()}),o.j41(2,"mat-form-field",1)(3,"mat-label"),o.EFF(4,"Email"),o.k0s(),o.nrm(5,"input",2),o.j41(6,"mat-error")(7,"span"),o.EFF(8),o.k0s()()(),o.j41(9,"div",3)(10,"button",4),o.nI1(11,"async"),o.EFF(12,"Login"),o.k0s()()()()),2&i&&(o.R7$(),o.Y8G("formGroup",s.loginForm),o.R7$(4),o.Y8G("formControl",s.loginForm.controls.email),o.R7$(3),o.JRh(s.formErrorService.getFieldError(s.loginForm,"email")),o.R7$(2),o.Y8G("disabled",s.loginForm.invalid||o.bMT(11,4,s.isLoading$)))},dependencies:[m.MD,m.Jj,n.X1,n.qT,n.me,n.BC,n.cb,n.l_,n.j4,u.Hu,d.Hl,d.$z,e.RG,e.rl,e.nJ,e.TL,h.fS,h.fg,v.m_,P.i],styles:[".login__input-field[_ngcontent-%COMP%]{width:100%}.login__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-3)}.login__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"],changeDetection:0})}return r})()}}]);