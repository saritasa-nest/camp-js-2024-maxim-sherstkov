"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[346],{3346:(G,d,t)=>{t.r(d),t.d(d,{RegisterComponent:()=>b});var r=t(7788),p=t(6610),s=t(7222),h=t(7533),g=t(643),l=t(2221),m=t(6375),f=t(4587),u=t(6182),c=t(5981),v=t(4526),F=t(6347),E=t(7212),R=t(5860);class w extends R.b{constructor(i){super(),this.email=i.email,this.password=i.password,this.firstName=i.firstName,this.lastName=i.lastName}}var C=t(4509),y=t(922),P=t(2224),S=t(2118),j=t(2019);class N{static passwordMatcher(i){const a=i.get("password"),o=i.get("confirmPassword");return a.pristine||o.pristine||a.value===o.value?null:{passwordMatch:!0}}}class ${isErrorState(i){return(i?.parent?.invalid&&i.touched)??!1}}let b=(()=>{class n{constructor(){this.destroyRef=(0,r.WQX)(r.abz),this.changeDetector=(0,r.WQX)(r.gRc),this.formBuilder=(0,r.WQX)(s.ok),this.authService=(0,r.WQX)(h.u),this.router=(0,r.WQX)(y.Ix),this.formErrorService=(0,r.WQX)(C._),this.confirmValidParentMatcher=new $,this.registerForm=this.formBuilder.group({email:["",[s.k0.required,s.k0.email]],passwordGroup:this.formBuilder.group({password:["",[s.k0.required,s.k0.minLength(8)]],confirmPassword:["",s.k0.required]},{validators:N.passwordMatcher}),firstName:["",[s.k0.required,s.k0.maxLength(30)]],lastName:["",[s.k0.required,s.k0.maxLength(30)]]}),this.hidePassword=(0,r.vPA)(!0),this.isLoading$=new c.t(!1)}onSubmit(){if(this.registerForm.invalid)return;this.isLoading$.next(!0);const a=new w({...this.registerForm.value,password:this.registerForm.value.passwordGroup.password});this.authService.register(a).pipe((0,v.W)(o=>{throw o instanceof S.c&&(this.formErrorService.showFormValidationErrors(this.registerForm,o),this.changeDetector.markForCheck()),Error}),(0,F.j)(()=>{this.isLoading$.next(!1)}),(0,E.pQ)(this.destroyRef)).subscribe(o=>this.router.navigate([P.n.home]))}clickHidePassword(a){this.hidePassword.set(!this.hidePassword()),a.stopPropagation()}static#r=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275cmp=r.VBU({type:n,selectors:[["camp-register"]],standalone:!0,features:[r.aNF],decls:45,vars:15,consts:[[1,"register__form",3,"ngSubmit","formGroup"],["subscriptSizing","dynamic","appearance","outline",1,"register__input-field"],["matInput","","formControlName","email","type","email"],["matInput","","formControlName","firstName","type","text"],["matInput","","formControlName","lastName","type","text"],["formGroupName","passwordGroup",1,"password-group"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["matInput","","formControlName","confirmPassword",3,"type","errorStateMatcher"],[1,"register__actions"],["mat-stroked-button","","type","submit",3,"disabled"]],template:function(o,e){1&o&&(r.j41(0,"camp-auth")(1,"form",0),r.bIt("ngSubmit",function(){return e.onSubmit()}),r.j41(2,"mat-form-field",1)(3,"mat-label"),r.EFF(4,"Email"),r.k0s(),r.nrm(5,"input",2),r.j41(6,"mat-error")(7,"span"),r.EFF(8),r.k0s()()(),r.j41(9,"mat-form-field",1)(10,"mat-label"),r.EFF(11,"First name"),r.k0s(),r.nrm(12,"input",3),r.j41(13,"mat-error")(14,"span"),r.EFF(15),r.k0s()()(),r.j41(16,"mat-form-field",1)(17,"mat-label"),r.EFF(18,"Last name"),r.k0s(),r.nrm(19,"input",4),r.j41(20,"mat-error")(21,"span"),r.EFF(22),r.k0s()()(),r.j41(23,"div",5)(24,"mat-form-field",1)(25,"mat-label"),r.EFF(26,"Password"),r.k0s(),r.nrm(27,"input",6),r.j41(28,"button",7),r.bIt("click",function(k){return e.clickHidePassword(k)}),r.j41(29,"mat-icon"),r.EFF(30),r.k0s()(),r.j41(31,"mat-error")(32,"span"),r.EFF(33),r.k0s()()(),r.j41(34,"mat-form-field",1)(35,"mat-label"),r.EFF(36,"Confirm password"),r.k0s(),r.nrm(37,"input",8),r.j41(38,"mat-error")(39,"span"),r.EFF(40),r.k0s()()()(),r.j41(41,"div",9)(42,"button",10),r.nI1(43,"async"),r.EFF(44,"Register"),r.k0s()()()()),2&o&&(r.R7$(),r.Y8G("formGroup",e.registerForm),r.R7$(7),r.JRh(e.formErrorService.getFieldError(e.registerForm,"email")),r.R7$(7),r.JRh(e.formErrorService.getFieldError(e.registerForm,"firstName")),r.R7$(7),r.JRh(e.formErrorService.getFieldError(e.registerForm,"lastName")),r.R7$(5),r.Y8G("type",e.hidePassword()?"password":"text"),r.R7$(),r.BMQ("aria-label","Hide password")("aria-pressed",e.hidePassword()),r.R7$(2),r.JRh(e.hidePassword()?"visibility_off":"visibility"),r.R7$(3),r.JRh(e.formErrorService.getFieldError(e.registerForm,"passwordGroup.password")),r.R7$(4),r.Y8G("type",e.hidePassword()?"password":"text")("errorStateMatcher",e.confirmValidParentMatcher),r.R7$(3),r.JRh(e.formErrorService.getFieldError(e.registerForm,"passwordGroup")),r.R7$(2),r.Y8G("disabled",e.registerForm.invalid||r.bMT(43,13,e.isLoading$)))},dependencies:[p.MD,p.Jj,s.X1,s.qT,s.me,s.BC,s.cb,s.j4,s.JD,s.$R,g.Hu,l.Hl,l.$z,l.iY,m.RG,m.rl,m.nJ,m.TL,m.yw,f.fS,f.fg,u.m_,u.An,j.i],styles:[".register__input-field[_ngcontent-%COMP%]{width:100%}.register__form[_ngcontent-%COMP%]{--input-gap: var(--space-3);display:flex;flex-direction:column;gap:var(--input-gap)}.password-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--input-gap)}.register__content[_ngcontent-%COMP%]:last-child{padding:0}.register__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"],changeDetection:0})}return n})()}}]);