"use strict";(self.webpackChunkangular=self.webpackChunkangular||[]).push([[962],{6962:(Q,m,t)=>{t.r(m),t.d(m,{LoginComponent:()=>L});var o=t(7788),d=t(6610),n=t(7222),h=t(5860);class g extends h.b{constructor(c){super(),this.email=c.email,this.password=c.password}}var p=t(643),l=t(2221),s=t(6375),f=t(4587),u=t(6182),v=t(5981),F=t(4526),y=t(756),b=t(8486),S=t(7212),E=t(6921),C=t(922),R=t(2224),$=t(4509),j=t(2118),P=t(2019);let L=(()=>{class e{constructor(){this.destroyRef=(0,o.WQX)(o.abz),this.formBuilder=(0,o.WQX)(n.ok),this.userService=(0,o.WQX)(E.D),this.changeDetector=(0,o.WQX)(o.gRc),this.router=(0,o.WQX)(C.Ix),this.formErrorService=(0,o.WQX)($._),this.loginForm=this.formBuilder.group({email:["",[n.k0.required,n.k0.email]],password:["",[n.k0.required,n.k0.minLength(8)]]}),this.hidePassword$=new v.t(!0)}onSubmit(){if(this.loginForm.invalid)return;const a=new g({...this.loginForm.value});this.userService.login(a).pipe((0,S.pQ)(this.destroyRef),(0,F.W)(i=>(i instanceof j.h&&(this.formErrorService.renderServerErrors(this.loginForm,i),this.changeDetector.markForCheck()),(0,y.of)(null)))).subscribe(i=>{null!==i&&this.router.navigate([R.n.home])})}clickHidePassword(a){this.hidePassword$.pipe((0,b.s)(1)).subscribe(i=>this.hidePassword$.next(!i)),a.stopPropagation()}static#o=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275cmp=o.VBU({type:e,selectors:[["camp-login"]],standalone:!0,features:[o.aNF],decls:25,vars:14,consts:[[1,"login__form",3,"ngSubmit","formGroup"],["subscriptSizing","dynamic","appearance","outline",1,"login__input-field"],["matInput","","formControlName","email","type","email"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"login__actions"],["mat-stroked-button","","type","submit",3,"disabled"]],template:function(i,r){1&i&&(o.j41(0,"camp-auth")(1,"form",0),o.bIt("ngSubmit",function(){return r.onSubmit()}),o.j41(2,"mat-form-field",1)(3,"mat-label"),o.EFF(4,"Email"),o.k0s(),o.nrm(5,"input",2),o.j41(6,"mat-error")(7,"span"),o.EFF(8),o.k0s()()(),o.j41(9,"mat-form-field",1)(10,"mat-label"),o.EFF(11,"Password"),o.k0s(),o.nrm(12,"input",3),o.nI1(13,"async"),o.j41(14,"button",4),o.nI1(15,"async"),o.bIt("click",function(M){return r.clickHidePassword(M)}),o.j41(16,"mat-icon"),o.EFF(17),o.nI1(18,"async"),o.k0s()(),o.j41(19,"mat-error")(20,"span"),o.EFF(21),o.k0s()()(),o.j41(22,"div",5)(23,"button",6),o.EFF(24,"Login"),o.k0s()()()()),2&i&&(o.R7$(),o.Y8G("formGroup",r.loginForm),o.R7$(7),o.JRh(r.formErrorService.getFieldError(r.loginForm,"email")),o.R7$(4),o.Y8G("type",o.bMT(13,8,r.hidePassword$)?"password":"text"),o.R7$(2),o.BMQ("aria-label","Hide password")("aria-pressed",o.bMT(15,10,r.hidePassword$)),o.R7$(3),o.JRh(o.bMT(18,12,r.hidePassword$)?"visibility_off":"visibility"),o.R7$(4),o.JRh(r.formErrorService.getFieldError(r.loginForm,"password")),o.R7$(2),o.Y8G("disabled",r.loginForm.invalid))},dependencies:[d.MD,d.Jj,n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,p.Hu,l.Hl,l.$z,l.iY,s.RG,s.rl,s.nJ,s.TL,s.yw,f.fS,f.fg,u.m_,u.An,P.i],styles:[".login__input-field[_ngcontent-%COMP%]{width:100%}.login__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-3)}.login__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"],changeDetection:0})}return e})()}}]);